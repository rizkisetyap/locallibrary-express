<%- include('../../header',{title:"List of Books Instances"}); %>
<main class="max-w-4xl mx-auto">
  <div id="wrapper" class="mt-8">
    <h1 class="text-2xl font-bold text-gray-600">List Book Intances</h1>
    <a
      class="my-2 py-2 px-4 inline-block bg-blue-500 text-white rounded-sm"
      href="/catalog/bookinstance/create"
      >Add new copy</a
    >
    <!-- flashmessage -->
    <%- include('../../flash'); %>
    <!-- flashmessage -->
    <div class="grid grid-cols-2 gap-3 mt-6 pb-8">
      <% bookinstances.forEach(bookinstance => {%>
      <a
        class="
          block
          border
          <%=
          bookinstance.status
          ===
          'Available'
          ?
          'bg-green-400'
          :
          bookinstance.status
          ===
          'Maintenance'
          ?
          'bg-red-400'
          :
          'bg-yellow-400'
          %>
          shadow-md
          rounded-md
          px-6
          py-2
          border-blue-200
          text-gray-800
          hover:bg-blue-500
          transition-all
          duration-300
          ease-in-out
        "
        href="<%= bookinstance.url %>"
      >
        <div class="">
          <h4 class="text-md font-bold"><%= bookinstance.book.title %>:</h4>
          <p class="">
            <%= bookinstance.imprint %> <% if(bookinstance.status !==
            'Available') {%>

            <span class="block text-xs my-2"
              >(Due: <%= bookinstance.due_back_formatted %>)</span
            >
            <%} %>
            <span
              class="
                text-sm
                block
                py-1
                <%=
                bookinstance.status
                ===
                'Available'
                ?
                'text-green-900'
                :
                bookinstance.status
                ===
                'Maintenance'
                ?
                'text-red-900'
                :
                'text-yellow-900'
                %>
                font-bold
              "
              ><%= bookinstance.status %></span
            >
          </p>
        </div>
      </a>
      <%}) %>
    </div>
  </div>
</main>
<%- include('../../footer');%>
